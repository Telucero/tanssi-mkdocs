const main=document.querySelector('main');const lang=(document.documentElement.lang||'en').toLowerCase();let injected={};const injectedScript=document.getElementById('external-link-modal-strings');if(injectedScript){try{const parsed=JSON.parse(injectedScript.textContent||'{}');if(parsed&&parsed[lang]){injected=parsed[lang];}}catch(err){injected={};}}
if(!Object.keys(injected).length){injected=(window.__externalLinkModalStrings&&window.__externalLinkModalStrings[lang])||{};}
const fallback={header:`You're Leaving the Tanssi Documentation Website`,message:`A new tab will open and you'll be sent to an independent, third-party website that is not affiliated with Tanssi.`,cancel:'Cancel',continue:'Continue to External Site'};const t={header:injected.header||fallback.header,message:injected.message||fallback.message,cancel:injected.cancel||fallback.cancel,continue:injected.continue||fallback.continue};const externalLinkModalContainer=document.createElement('div');const externalLinkModal=document.createElement('div');const externalLinkModalHeader=document.createElement('h3');const externalLinkModalMessage=document.createElement('p');const closeExternalLinkModal=document.createElement('span');const buttonWrapper=document.createElement('div');const cancelButton=document.createElement('button');const continueToExternalButton=document.createElement('button');const externalLinkAnchor=document.createElement('a');externalLinkModalContainer.className='external-link-modal-container';externalLinkModalHeader.className='external-link-modal-header';externalLinkModal.className='external-link-modal';externalLinkModalMessage.className='external-link-message';closeExternalLinkModal.className='close-modal';externalLinkModalContainer.style.display='none';externalLinkModalHeader.textContent=t.header;externalLinkModalMessage.textContent=t.message;cancelButton.textContent=t.cancel;cancelButton.classList.add('md-button');continueToExternalButton.textContent=t.continue;continueToExternalButton.classList.add('md-button--primary','md-button');buttonWrapper.classList.add('row','modal-buttons','md-typeset');closeExternalLinkModal.innerHTML='&times;';closeExternalLinkModal.onclick=()=>{externalLinkModalContainer.style.display='none';};externalLinkModal.appendChild(closeExternalLinkModal);externalLinkModal.appendChild(externalLinkModalHeader);externalLinkModal.appendChild(externalLinkModalMessage);externalLinkAnchor.appendChild(continueToExternalButton);buttonWrapper.appendChild(cancelButton);buttonWrapper.appendChild(externalLinkAnchor);externalLinkModal.appendChild(buttonWrapper);externalLinkModalContainer.appendChild(externalLinkModal);main.append(externalLinkModalContainer);const links=document.querySelectorAll('a');const origin=window.location.origin;const tanssiLinks=[origin,'https://www.tanssi.network','https://tanssi.network','https://apps.tanssi.network/'];const checkIfTanssiLink=(href)=>{return tanssiLinks.some((link)=>href.startsWith(link));};for(let i=0;i<links.length;i++){const href=links[i].href;const isTanssiLink=tanssiLinks.some((link)=>href.startsWith(link));if(!isTanssiLink&&href){links[i].onclick=(e)=>{e.preventDefault();externalLinkModalContainer.style.display='block';externalLinkAnchor.href=href;externalLinkAnchor.setAttribute('target','_blank');cancelButton.onclick=()=>{externalLinkModalContainer.style.display='none';};continueToExternalButton.onclick=()=>{externalLinkModalContainer.style.display='none';};};}else{if(!href.startsWith(origin)){links[i].setAttribute('target','_blank');}}}
const externalLinks=[];